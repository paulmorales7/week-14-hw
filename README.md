# week-14-hw

Develop Folder

Config folder
Middleware folder within the config folder contains isAuthenticated.js file which prevents the user from reaching routes that they do not have access for yet. For example if the user has not logged in they will not have access to any route besides the /login route. 
Config.json is a file that holds all the packages required for the application. It is created by performing npm install config.json. Within this file we get 3 objects called development, test, and production. For the purposes of the application we only need to customize the development object, we must change the password to our mySql password and add the name of our database. The rest should remain the same. 
Passport.js is the last file within the config folder. This file is solely dedicated to the login step of the application. This file utilizes local strategy to ensure that the user is inputting the correct information that meets the requirements requested by the login. There are also validations put into place to make sure the user enters all the necessary information to make sure they can sign in safely and have a secure password for future use. This file is exported at the bottom. 

Models Folder
Index.js is the first file in this folder. This file first requires everything it needs to make sure everything runs smoothly. It starts with a conditional that checks to see if the environment variables are used and if they are it creates a new model through sequelize, if not the else is creating a new model with other information we gave it such as the database, username, and password. Then we have boiler plate code that is ready to take in information from models created and join them to the correct place. Then the file is exported because it relies on other files for the information it needs. 
User.js first requires bcrypt which helps make sure that passwords are secure and not easily guessed or taken. Then a model is created for the variable user, within this model we have 2 objects which are email and password. Both these objects have validations that ensure all the necessary information was inputted. Then a prototype of the users password is created to check that the password inputted does not match any password already in the database. This file is also exported. 

Public Folder
The first folder in the public folder is js. Login js is the first file within. This file is the front end javascript that gives behavior to the login page.  It uses jquery to select the form it needs with the email and password inputs. When the submit button is clicked on the login form a function is run that validates that the form was completely filled out and all takes our spaces from the inputs. If the form was not filled out completely it will return the user and not allow them to move on. Then there is a post called that creates the login post to the api/login route. If everything is correct the user is then relocated to the /members route. 
Members.js is a small file that portrays the users email to the html page and allows the user to see that they are logged in successfully. 
Signup.js gives the signup page behavior. It essentially does the same as login except on a different form. Login was for existing users and this signup file is for new users who need to create their login information. They also at the bottom add an error message so that the application can handle the errors the user may encounter gracefully.
The next folder is stylesheets which only has the style.css file in it. The css file only gives the sign up and login forms a margin from the top of 50px. This is simply done for spacing of the forms and to make them look nicer when rendered to the page.
 Then we have our html files. The first being login.html which has all the front end code to build out the visual aspect of the application. This file has a navbar with a header and the login form. Bootstrap is being used which is why there wasn’t a lot of need for styling in the style.css file. The css file is also linked in the head with bootstrap. Jquery and javascript are being scripted at the end of the body for loading purposes. 
Members.html only has a navbar which displays the users email address at the top with the word “Welcome” hard coded in so that any user will have their email displayed at the top with Welcome in front of it. Everything else remains the same on this html file. 
Signup.html is almost identical to login.html as they both just have navbars and their form. 

Routes Folder
First file is api-routes which requires the models created and also the passport file which handles the passwords. Then the first 2 routes are for the login and signup pages. The login route calls the passport authenticate to make sure the login credentials are valid. The signup route uses a sequelize model that creates the users signup with email and password. The next route is the logout which simply redirects you to the main route where you either login or signup. The last api route is user_data which captures the users information for use or for rendering it to the page is necessary. If the user is not signed in it just sends an empty object. 
Html-routes allows us to take the user from page to page accordingly. From the main page to login or continue with the signup page. From there the user can only go to the members page after logging in or signing up. When sending the file at the end of all the routes, the path to the correct html file is called by moving out of the folder using “..” then going into “../public” and then the correct html file. Ex: “../public/login.html”

Package.json is another file created through installing with npm in the terminal. Within you can see everything that was downloaded. For this app all the download dependencies were bcrypt, express, express-session, mySql, passport/ passport local, and sequelize. 

Server.js
First requiring the necessary npm packages. Then the port is established, in this case localhost 8080 was used. The express app is created and called. Also with the express app, the server.js is configuring the middleware needed for authentication of the user and their login information. Then the passport session is initialized, this is for the code written about the password. Then the required routes are stated, which is where the html and api routes files are linked. And the file is ended with syncing the database used and console logging a message saying that the port is connected and which port is being used. 

What can be changed?
I wouldn’t change anything as much as I would add onto the application. I think this is great starter code to create a more complex application. I think that the members file could be improved by adding more features. This application was more oriented towards the login and sign up parts, but after that the user would want to do things within. I would create something that takes in sensitive information to give the password code meaning. Such as a shopping list or a banking app. These ideas would benefit greatly from the password code as it could use the security that local strategy provides. I would add onto all the navbars and link the other pages in the navbar, so the user could navigate from page to page. They would be able to logout and navigate back to the login page. On the login and signup page I would not put links in the navbar as the user must first sign in or up to access the members page. This all would require adding onto the css file as well, which means familiarizing yourself with the classes and Ids already written. As well as created new classes and IDs to target in the css file. 
